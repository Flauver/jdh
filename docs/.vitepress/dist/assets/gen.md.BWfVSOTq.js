import{g as je,J as Le,a0 as le,D as U,d as X,p as $e,q as ce,o as B,c as $,j as T,F as se,r as Ae,n as q,t as Z,e as J,P as ze,L as De,v as ue,b as de,k as F,w as We,a1 as Ve,a2 as Ue,a as he,V as qe,G as Je}from"./chunks/framework.DbwnVzUw.js";const ie={},Q={};async function Ze(y){if(y in Q)return Q[y];let s=y;y[0]==="/"&&(s=je(y));try{const n=await(await fetch(s)).json();return Q[y]=n,n}catch(f){throw f instanceof Error&&alert(`æ— æ³•ä¸‹è½½æˆ–è§£æã€Š${y}ã€‹æ–‡ä»¶ï¼š${f.cause}`),f}}function fe(){const s=Le().path.split("/");return s[1]==="yima"?s[2]:s[1]}function He(y,s){if(s.length<100)throw new Error(`å¡ç‰‡è‡³å°‘100å¼ ï¼š${s.length}`);const f=()=>Array.from({length:s.length},(C,S)=>[-1,S]),n=le(`yima_${y}_records`,f),b=s.length;if(n.value.length<b)for(let C=n.value.length;C<b;C++)n.value.push([-1,C]);else n.value.length>b&&(n.value=n.value.filter(C=>C[1]<b));n.value.sort((C,S)=>C[0]===8&&S[0]<8?1:S[0]===8&&C[0]<8?-1:0);const h=U(n.value.reduce((C,S)=>C+ +(S[0]>1),0)),_=U(s[n.value[0][1]]),M=U(n.value[0][0]===-1),N=()=>{n.value=f(),h.value=0,M.value=!0,_.value=s[0]},O=s.length-1,A=[3,9,21,36,60,100],P=A.length-1;return{progress:h,card:_,isFirst:M,restart:N,answer:C=>{if(!C){n.value[0][0]>1&&(h.value-=1),n.value[0][0]=-1,M.value=!0;return}const S=n.value[0],p=++S[0];p===2&&(h.value+=1);let z=0;p>P?(S[0]=8,z=O):(z=A[p],z>O&&(z=O)),n.value.copyWithin(0,1,z+1),n.value[z]=S,_.value=s[n.value[0][1]],M.value=n.value[0][0]===-1}}}var Y={};(function y(s,f,n,b){var v=!!(s.Worker&&s.Blob&&s.Promise&&s.OffscreenCanvas&&s.OffscreenCanvasRenderingContext2D&&s.HTMLCanvasElement&&s.HTMLCanvasElement.prototype.transferControlToOffscreen&&s.URL&&s.URL.createObjectURL),h=typeof Path2D=="function"&&typeof DOMMatrix=="function",_=function(){if(!s.OffscreenCanvas)return!1;var a=new OffscreenCanvas(1,1),e=a.getContext("2d");e.fillRect(0,0,1,1);var r=a.transferToImageBitmap();try{e.createPattern(r,"no-repeat")}catch{return!1}return!0}();function M(){}function N(a){var e=f.exports.Promise,r=e!==void 0?e:s.Promise;return typeof r=="function"?new r(a):(a(M,M),null)}var O=function(a,e){return{transform:function(r){if(a)return r;if(e.has(r))return e.get(r);var o=new OffscreenCanvas(r.width,r.height),i=o.getContext("2d");return i.drawImage(r,0,0),e.set(r,o),o},clear:function(){e.clear()}}}(_,new Map),A=function(){var a=Math.floor(16.666666666666668),e,r,o={},i=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(e=function(l){var c=Math.random();return o[c]=requestAnimationFrame(function t(u){i===u||i+a-1<u?(i=u,delete o[c],l()):o[c]=requestAnimationFrame(t)}),c},r=function(l){o[l]&&cancelAnimationFrame(o[l])}):(e=function(l){return setTimeout(l,a)},r=function(l){return clearTimeout(l)}),{frame:e,cancel:r}}(),P=function(){var a,e,r={};function o(i){function l(c,t){i.postMessage({options:c||{},callback:t})}i.init=function(t){var u=t.transferControlToOffscreen();i.postMessage({canvas:u},[u])},i.fire=function(t,u,m){if(e)return l(t,null),e;var w=Math.random().toString(36).slice(2);return e=N(function(g){function x(k){k.data.callback===w&&(delete r[w],i.removeEventListener("message",x),e=null,O.clear(),m(),g())}i.addEventListener("message",x),l(t,w),r[w]=x.bind(null,{data:{callback:w}})}),e},i.reset=function(){i.postMessage({reset:!0});for(var t in r)r[t](),delete r[t]}}return function(){if(a)return a;if(!n&&v){var i=["var CONFETTI, SIZE = {}, module = {};","("+y.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{a=new Worker(URL.createObjectURL(new Blob([i])))}catch(l){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("ğŸŠ Could not load worker",l),null}o(a)}return a}}(),W={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function C(a,e){return e?e(a):a}function S(a){return a!=null}function p(a,e,r){return C(a&&S(a[e])?a[e]:W[e],r)}function z(a){return a<0?0:Math.floor(a)}function ve(a,e){return Math.floor(Math.random()*(e-a))+a}function H(a){return parseInt(a,16)}function me(a){return a.map(ge)}function ge(a){var e=String(a).replace(/[^0-9a-f]/gi,"");return e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),{r:H(e.substring(0,2)),g:H(e.substring(2,4)),b:H(e.substring(4,6))}}function pe(a){var e=p(a,"origin",Object);return e.x=p(e,"x",Number),e.y=p(e,"y",Number),e}function ye(a){a.width=document.documentElement.clientWidth,a.height=document.documentElement.clientHeight}function be(a){var e=a.getBoundingClientRect();a.width=e.width,a.height=e.height}function Me(a){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=a,e}function we(a,e,r,o,i,l,c,t,u){a.save(),a.translate(e,r),a.rotate(l),a.scale(o,i),a.arc(0,0,1,c,t,u),a.restore()}function xe(a){var e=a.angle*(Math.PI/180),r=a.spread*(Math.PI/180);return{x:a.x,y:a.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:a.startVelocity*.5+Math.random()*a.startVelocity,angle2D:-e+(.5*r-Math.random()*r),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:a.color,shape:a.shape,tick:0,totalTicks:a.ticks,decay:a.decay,drift:a.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:a.gravity*3,ovalScalar:.6,scalar:a.scalar,flat:a.flat}}function Ce(a,e){e.x+=Math.cos(e.angle2D)*e.velocity+e.drift,e.y+=Math.sin(e.angle2D)*e.velocity+e.gravity,e.velocity*=e.decay,e.flat?(e.wobble=0,e.wobbleX=e.x+10*e.scalar,e.wobbleY=e.y+10*e.scalar,e.tiltSin=0,e.tiltCos=0,e.random=1):(e.wobble+=e.wobbleSpeed,e.wobbleX=e.x+10*e.scalar*Math.cos(e.wobble),e.wobbleY=e.y+10*e.scalar*Math.sin(e.wobble),e.tiltAngle+=.1,e.tiltSin=Math.sin(e.tiltAngle),e.tiltCos=Math.cos(e.tiltAngle),e.random=Math.random()+2);var r=e.tick++/e.totalTicks,o=e.x+e.random*e.tiltCos,i=e.y+e.random*e.tiltSin,l=e.wobbleX+e.random*e.tiltCos,c=e.wobbleY+e.random*e.tiltSin;if(a.fillStyle="rgba("+e.color.r+", "+e.color.g+", "+e.color.b+", "+(1-r)+")",a.beginPath(),h&&e.shape.type==="path"&&typeof e.shape.path=="string"&&Array.isArray(e.shape.matrix))a.fill(_e(e.shape.path,e.shape.matrix,e.x,e.y,Math.abs(l-o)*.1,Math.abs(c-i)*.1,Math.PI/10*e.wobble));else if(e.shape.type==="bitmap"){var t=Math.PI/10*e.wobble,u=Math.abs(l-o)*.1,m=Math.abs(c-i)*.1,w=e.shape.bitmap.width*e.scalar,g=e.shape.bitmap.height*e.scalar,x=new DOMMatrix([Math.cos(t)*u,Math.sin(t)*u,-Math.sin(t)*m,Math.cos(t)*m,e.x,e.y]);x.multiplySelf(new DOMMatrix(e.shape.matrix));var k=a.createPattern(O.transform(e.shape.bitmap),"no-repeat");k.setTransform(x),a.globalAlpha=1-r,a.fillStyle=k,a.fillRect(e.x-w/2,e.y-g/2,w,g),a.globalAlpha=1}else if(e.shape==="circle")a.ellipse?a.ellipse(e.x,e.y,Math.abs(l-o)*e.ovalScalar,Math.abs(c-i)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):we(a,e.x,e.y,Math.abs(l-o)*e.ovalScalar,Math.abs(c-i)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI);else if(e.shape==="star")for(var d=Math.PI/2*3,I=4*e.scalar,E=8*e.scalar,R=e.x,L=e.y,V=5,j=Math.PI/V;V--;)R=e.x+Math.cos(d)*E,L=e.y+Math.sin(d)*E,a.lineTo(R,L),d+=j,R=e.x+Math.cos(d)*I,L=e.y+Math.sin(d)*I,a.lineTo(R,L),d+=j;else a.moveTo(Math.floor(e.x),Math.floor(e.y)),a.lineTo(Math.floor(e.wobbleX),Math.floor(i)),a.lineTo(Math.floor(l),Math.floor(c)),a.lineTo(Math.floor(o),Math.floor(e.wobbleY));return a.closePath(),a.fill(),e.tick<e.totalTicks}function ke(a,e,r,o,i){var l=e.slice(),c=a.getContext("2d"),t,u,m=N(function(w){function g(){t=u=null,c.clearRect(0,0,o.width,o.height),O.clear(),i(),w()}function x(){n&&!(o.width===b.width&&o.height===b.height)&&(o.width=a.width=b.width,o.height=a.height=b.height),!o.width&&!o.height&&(r(a),o.width=a.width,o.height=a.height),c.clearRect(0,0,o.width,o.height),l=l.filter(function(k){return Ce(c,k)}),l.length?t=A.frame(x):g()}t=A.frame(x),u=g});return{addFettis:function(w){return l=l.concat(w),m},canvas:a,promise:m,reset:function(){t&&A.cancel(t),u&&u()}}}function ee(a,e){var r=!a,o=!!p(e||{},"resize"),i=!1,l=p(e,"disableForReducedMotion",Boolean),c=v&&!!p(e||{},"useWorker"),t=c?P():null,u=r?ye:be,m=a&&t?!!a.__confetti_initialized:!1,w=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,g;function x(d,I,E){for(var R=p(d,"particleCount",z),L=p(d,"angle",Number),V=p(d,"spread",Number),j=p(d,"startVelocity",Number),Ie=p(d,"decay",Number),Pe=p(d,"gravity",Number),Se=p(d,"drift",Number),re=p(d,"colors",me),Ee=p(d,"ticks",Number),te=p(d,"shapes"),Re=p(d,"scalar"),Be=!!p(d,"flat"),ne=pe(d),oe=R,K=[],Ne=a.width*ne.x,Oe=a.height*ne.y;oe--;)K.push(xe({x:Ne,y:Oe,angle:L,spread:V,startVelocity:j,color:re[oe%re.length],shape:te[ve(0,te.length)],ticks:Ee,decay:Ie,gravity:Pe,drift:Se,scalar:Re,flat:Be}));return g?g.addFettis(K):(g=ke(a,K,u,I,E),g.promise)}function k(d){var I=l||p(d,"disableForReducedMotion",Boolean),E=p(d,"zIndex",Number);if(I&&w)return N(function(j){j()});r&&g?a=g.canvas:r&&!a&&(a=Me(E),document.body.appendChild(a)),o&&!m&&u(a);var R={width:a.width,height:a.height};t&&!m&&t.init(a),m=!0,t&&(a.__confetti_initialized=!0);function L(){if(t){var j={getBoundingClientRect:function(){if(!r)return a.getBoundingClientRect()}};u(j),t.postMessage({resize:{width:j.width,height:j.height}});return}R.width=R.height=null}function V(){g=null,o&&(i=!1,s.removeEventListener("resize",L)),r&&a&&(document.body.contains(a)&&document.body.removeChild(a),a=null,m=!1)}return o&&!i&&(i=!0,s.addEventListener("resize",L,!1)),t?t.fire(d,R,V):x(d,R,V)}return k.reset=function(){t&&t.reset(),g&&g.reset()},k}var G;function ae(){return G||(G=ee(null,{useWorker:!0,resize:!0})),G}function _e(a,e,r,o,i,l,c){var t=new Path2D(a),u=new Path2D;u.addPath(t,new DOMMatrix(e));var m=new Path2D;return m.addPath(u,new DOMMatrix([Math.cos(c)*i,Math.sin(c)*i,-Math.sin(c)*l,Math.cos(c)*l,r,o])),m}function Te(a){if(!h)throw new Error("path confetti are not supported in this browser");var e,r;typeof a=="string"?e=a:(e=a.path,r=a.matrix);var o=new Path2D(e),i=document.createElement("canvas"),l=i.getContext("2d");if(!r){for(var c=1e3,t=c,u=c,m=0,w=0,g,x,k=0;k<c;k+=2)for(var d=0;d<c;d+=2)l.isPointInPath(o,k,d,"nonzero")&&(t=Math.min(t,k),u=Math.min(u,d),m=Math.max(m,k),w=Math.max(w,d));g=m-t,x=w-u;var I=10,E=Math.min(I/g,I/x);r=[E,0,0,E,-Math.round(g/2+t)*E,-Math.round(x/2+u)*E]}return{type:"path",path:e,matrix:r}}function Fe(a){var e,r=1,o="#000000",i='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof a=="string"?e=a:(e=a.text,r="scalar"in a?a.scalar:r,i="fontFamily"in a?a.fontFamily:i,o="color"in a?a.color:o);var l=10*r,c=""+l+"px "+i,t=new OffscreenCanvas(l,l),u=t.getContext("2d");u.font=c;var m=u.measureText(e),w=Math.ceil(m.actualBoundingBoxRight+m.actualBoundingBoxLeft),g=Math.ceil(m.actualBoundingBoxAscent+m.actualBoundingBoxDescent),x=2,k=m.actualBoundingBoxLeft+x,d=m.actualBoundingBoxAscent+x;w+=x+x,g+=x+x,t=new OffscreenCanvas(w,g),u=t.getContext("2d"),u.font=c,u.fillStyle=o,u.fillText(e,k,d);var I=1/r;return{type:"bitmap",bitmap:t.transferToImageBitmap(),matrix:[I,0,0,I,-w*I/2,-g*I/2]}}f.exports=function(){return ae().apply(this,arguments)},f.exports.reset=function(){ae().reset()},f.exports.create=ee,f.exports.shapeFromPath=Te,f.exports.shapeFromText=Fe})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Y,!1);const D=Y.exports;Y.exports.create;function Ge(){var y=5e3,s=Date.now()+y,f={startVelocity:30,spread:360,ticks:60,zIndex:0,particleCount:30,shapes:[D.shapeFromText({text:"å¿«",scalar:7}),D.shapeFromText({text:"å¼º",scalar:8}),D.shapeFromText({text:"ğŸ˜†",scalar:4}),D.shapeFromText({text:"ğŸ‰",scalar:5}),D.shapeFromText({text:"ğŸ‘",scalar:5})],scalar:2};function n(v,h){return Math.random()*(h-v)+v}var b=setInterval(function(){var v=s-Date.now();if(v<=0)return clearInterval(b);var h=50*(v/y);D({...f,particleCount:h,origin:{x:n(.1,.3),y:Math.random()-.2}}),D({...f,particleCount:h,origin:{x:n(.7,.9),y:Math.random()-.2}}),D({...f,shapes:["circle"],particleCount:h,origin:{x:n(.7,.9),y:Math.random()-.2}})},250)}const Ke={class:"flex justify-center mb-24"},Qe=["value","max"],Xe={class:"flex justify-center mt-10"},Ye={key:0,class:"text-gray-500 flex justify-between"},ea={class:"text-gray-500"},aa=X({__name:"CardLayout",props:{id:{},progress:{},max:{},isCorrect:{type:Boolean}},emits:["restart"],setup(y){const s=y,f=s.id||fe(),n=le(`yima_${f}-complete`,!1),b=$e(!1);return ce(()=>s.progress,async(v,h)=>{!n.value&&v===s.max&&v>h&&(n.value=!0,b.value=!0,await ze(),Ge())}),(v,h)=>(B(),$(se,null,[T("div",{class:q(["md:w-2/3 w-full shadow-sm my-12 pb-24 bg-opacity-10 transition-color rounded-md",{"bg-red-700":!v.isCorrect,"bg-slate-500":v.isCorrect}])},[T("div",Ke,[T("progress",{class:"progress w-full",value:v.progress,max:v.max},null,8,Qe)]),b.value?(B(),$(se,{key:0},[h[2]||(h[2]=T("div",{class:"p-10 text-6xl text-center font-bold text-orange-800 font-sans tracking-widest -rotate-6"}," ğŸ‰æ­å–œå®Œæˆç»ƒä¹ !!",-1)),T("div",Xe,[T("button",{class:"btn btn-success",onClick:h[0]||(h[0]=_=>b.value=!1)},"ç»§ç»­ç»ƒä¹ ")])],64)):Ae(v.$slots,"default",{key:1})],2),b.value?J("",!0):(B(),$("div",Ye,[T("div",ea,"è®­ç»ƒè¿›åº¦ï¼š "+Z(v.progress)+" / "+Z(v.max),1),T("button",{class:"btn btn-ghost btn-sm font-light",onClick:h[1]||(h[1]=_=>v.$emit("restart"))},"restart")]))],64))}}),ra={class:"flex justify-around mb-8"},ta={key:0,class:"flex flex-col"},na={key:0,class:"tracking-widest pt-6 text-blue-600 dark:text-blue-300"},oa={key:1,class:"tracking-widest pt-6 text-blue-600 dark:text-blue-300"},sa={class:"flex justify-center p-5"},ia={class:"font-mono"},la=X({__name:"TrainCard",props:{cards:{},id:{}},setup(y){const s=y,f=De("font")||"outi-yima",{card:n,restart:b,answer:v,progress:h,isFirst:_}=He(s.id,s.cards),M=U(!0),N=U(""),O=()=>{const P=document.getElementById("input_el");P==null||P.focus()};ue(()=>{O()});function A(){confirm("é‡ç½®è¿›åº¦éœ€è¦æ¸…ç©ºæ•°æ®ï¼Œæ— æ³•æ’¤å›ï¼Œæ‚¨ç¡®å®šç»§ç»­å—ï¼Ÿ")&&(b(),O())}return ce(N,P=>{P.length<n.value.key.length||(P===n.value.key?(v(!0),M.value=!0):(v(!1),M.value=!1),N.value="")}),(P,W)=>(B(),de(aa,{progress:F(h),max:P.cards.length,isCorrect:M.value,id:P.id,onRestart:A},{default:We(()=>[T("div",ra,[T("div",{class:q(["text-6xl animate__animated",F(f),{"text-red-400":!M.value,animate__headShake:!M.value}])},Z(F(n).name),3),"rel"in F(n)||"kind"in F(n)?(B(),$("div",ta,["kind"in F(n)&&F(n).kind=="b"?(B(),$("div",na," äº”ä¸ªåŸºç¡€ç¬”ç”»")):J("",!0),"kind"in F(n)&&F(n).kind=="eb"?(B(),$("div",oa," 25ä¸ªäºŒç¬”å°ç ")):J("",!0)])):J("",!0)]),T("div",sa,[Ve(T("input",{id:"input_el",type:"text",placeholder:"è¾“å…¥ç¼–ç ","onUpdate:modelValue":W[0]||(W[0]=C=>N.value=C),class:q(["input w-half max-w-xs input-bordered text-center input-sm dark:bg-slate-800 bg-white",{"input-error":!M.value}])},null,2),[[Ue,N.value]])]),T("div",{class:q(["text-center",{"opacity-0":!F(_)}])},[W[1]||(W[1]=he("ç­”æ¡ˆæ˜¯ ")),T("b",ia,Z(F(n).key),1),"comp"in F(n)?(B(),$("span",{key:0,class:q([F(f)])}," ï¼ˆ"+Z(F(n).comp)+"ï¼‰",3)):J("",!0)],2)]),_:1},8,["progress","max","isCorrect","id"]))}}),ca={key:1,class:"text-gray-700 text-center"},ua=X({__name:"TrainZigen",props:{name:{},zigenJson:{},zigenFont:{},trainSecondary:{type:Boolean}},setup(y){const s=y;qe("font",s.zigenFont);const f=fe(),b=`${s.name||f}_gen`,v=(_,M)=>_||`/${f}/${M}.json`,h=U(ie[b]);return ue(async()=>{if(h.value)return;const _=await Ze(v(s.zigenJson,"zigen"));s.trainSecondary?h.value=_.filter(M=>"secondary"in M).map(M=>({...M,key:M.secondary})):h.value=_,ie[b]=h.value}),(_,M)=>h.value?(B(),de(la,{key:0,id:b,cards:h.value},null,8,["cards"])):(B(),$("h2",ca," ä¸‹è½½æ•°æ®ä¸­â€¦â€¦ "))}}),da="î‚šî‚¡î‚¢î‚£î‚ î‚›î‚œî‚î‚î‚Ÿî‚¤î‚¥î‚§î‚¦î‚¨î‚­î‚¬î‚«î‚ªî‚©î‚–î‚—î‚˜î‚™î‚•",va=JSON.parse('{"title":"ç®€å•é¹¤å­—æ ¹ç»ƒä¹ ","description":"","frontmatter":{"aside":false},"headers":[],"relativePath":"gen.md","filePath":"gen.md"}'),ha={name:"gen.md"},ma=Object.assign(ha,{setup(y){return(s,f)=>(B(),$("div",null,[f[0]||(f[0]=T("h1",{id:"ç®€å•é¹¤å­—æ ¹ç»ƒä¹ ",tabindex:"-1"},[he("ç®€å•é¹¤å­—æ ¹ç»ƒä¹  "),T("a",{class:"header-anchor",href:"#ç®€å•é¹¤å­—æ ¹ç»ƒä¹ ","aria-label":'Permalink to "ç®€å•é¹¤å­—æ ¹ç»ƒä¹ "'},"â€‹")],-1)),Je(ua,{name:"jdh",high:F(da)},null,8,["high"])]))}});export{va as __pageData,ma as default};
